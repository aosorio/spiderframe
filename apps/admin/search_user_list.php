<?php define("TO_ROOT", "../..");  require_once TO_ROOT . "/core/includes/main.inc.php";    $Page = new Page("User list", "user_list", "empty");     $search_user_options = false;  $search_user = (isset($_GET["search_user"])) ? $_GET["search_user"] : false ;  $search_type = (isset($_GET["search_type"])) ? $_GET["search_type"] : false ;    $search_user_options = false;  $to_search = (isset($_GET["to_search"])) ? $_GET["to_search"] : false ;  $search_type = (isset($_GET["search_type"])) ? $_GET["search_type"] : false ;  $user_rol = (isset($_GET["user_rol"])) ? ucfirst($_GET["user_rol"]) : "User" ;    switch ($search_type)  {	case "member_id":		$conditions = "AND user_login.member_id LIKE '" . $to_search . "%'";		break;	case "user_mail":		$conditions = "AND user_login.mail LIKE '" . $to_search . "%'";		break;	case "user_name":		$conditions = "AND CONCAT_WS(' ', user.names,  user.lastname, user.mother_name) LIKE '%" . $to_search . "%' AND cat_user_rol.rol = '" . $user_rol . "' ";		break;  }    $conditions = ($to_search) ? $conditions : "";    $sql = "SELECT 			 user_login.mail, 			 user_login.active, 			 user_login.user_login_id, 			 user_login.user_login_date, 			 user.names, 			 user.lastname, 			 CONCAT_WS(' ', user.names, user.lastname, user.mother_name) AS complete_name		  FROM 			  user_login, user, cat_user_rol, cat_user_x_rol 		  WHERE 		  	  cat_user_x_rol.user_id = user.user_id		  AND			  cat_user_x_rol.cat_user_rol_id = cat_user_rol.cat_user_rol_id		  AND			  user.user_login_id = user_login.user_login_id {$conditions}		  GROUP BY user_login.user_login_id ";    $__rows = $DbConnection_root->getAll($sql);  $Page->assign("__rows",$__rows);  $Page->assign("search_user_options", $search_user_options);  $Page->setOnReady("__activeAction");    $Page->addCssLink(TO_ROOT . "/core/style/tables.css");  $Page->display();