<?php define("TO_ROOT", "../..");  require_once TO_ROOT . "/core/includes/main.inc.php";  $Page = new Template("View Client");    /* ---------------- <<<< Assert User Permissions >>>> ---------------------------------------------------------------------*/  /** *  if(!System::__assertLoginType($_SESSION["login_type"]) && !System::__hasPermission("user", "add_user"))  {  	System::__sessionDestroy();  	$Page->setOnReady("__showMessage","{'message':'Sorry you dont have permission','options':{'OK':function(){__goToPage('index.php')}}}");  	$Page->goToPage();  }  /* ---------------- <<<< End Assert User Permissions >>>> ----------------------------------------------------------------*/      /* ---------------- <<<< Load Class Models >>>> --------------------------------------------------------------------------*/  $cat_client_id = (isset($_GET["cat_client_id"])) ? $_GET["cat_client_id"] : 0 ;    $Client = ($cat_client_id == 0) ?  Row::getNewInstance("cat_client", 0) : Row::getInstance("cat_client", $cat_client_id) ;  $Client->load();    $address_id = FiscalFunctions::__getClientAddressID($cat_client_id);	  $Address = ($address_id >= 1) ? UserAddress::getInstance($address_id) : UserAddress::getNewInstance("user_address", 0);  $Address->load();  /* ---------------- <<<< End Load Class Models >>>> ---------------------------------------------------------------------*/    /* ---------------- <<<< Set Row on Form >>>> --------------------------------------------------------------------------*/    $Tabs	= new Tabs("Client view");  $Companies = new Table("Companies");    $Table = new Table("Example");    $Tabs->setRow($Client);  $Tabs->setRow($Address);      $rows = FiscalFunctions::__getClientCompanies($cat_client_id);  $Companies->setTableRows($rows);  $Companies->setTableTitle("Companies list");    $Companies->setRowProperty("cat_company_id", "class", "center");  $Companies->setConditionColumnValue("active_company", 1, "Active", "Inactive");    $Companies->addAction("Asign", TO_ROOT . "/apps/fiscal/add_company.php?cat_module_permission_id=cat_module_permission_id");    /* ---------------- <<<< End Set Row on Form  >>>> ---------------------------------------------------------------------*/      /* ---------------- <<<< Set Genarl Variables >>>> ----------------------------------------------------------------------*/  Functions::__getNext("cat_client", $cat_client_id, $next, $previous);  /* ---------------- <<<< End Set Genarl Variables  >>>> -----------------------------------------------------------------*/      /* ---------------- <<<< Configure Fields >>>> --------------------------------------------------------------------------*/    /* ---------------- <<<< End Configure Fields >>>> ----------------------------------------------------------------------*/      /* ---------------- <<<< Configure Sturdy Row >>>> ----------------------------------------------------------------------*/    /* ---------------- <<<< End Configure Sturdy Row >>>> ------------------------------------------------------------------*/      /* ---------------- <<<< Configure PHP Antions >>>> ---------------------------------------------------------------------*/  $Tabs->addAction("cat_client", "Edit", TO_ROOT . "/apps/fiscal/add_client.php?cat_client_id=cat_client_id");  $Tabs->addActiveAction("cat_client", "report-active-report_id-active");    $Page->addGeneralAction("Previuos", TO_ROOT ."/apps/fiscal/client.php?cat_client_id=" .  $previous, false);  $Page->addGeneralAction("Next", TO_ROOT ."/apps/fiscal/client.php?cat_client_id=" .  $next, false);    /* ---------------- <<<< End Configure PHP Actions >>>> -----------------------------------------------------------------*/      /* ---------------- <<<< Configure Js Actions >>>> ----------------------------------------------------------------------*/    /* ---------------- <<<< End Configure Js Actions >>>> -----------------------------------------------------------------*/      /* ---------------- <<<< Set Menus >>>> --------------------------------------------------------------------------------*/ //$Page->setSecondaryMenu("report");  /* ---------------- <<<< End Set Menus >>>> ----------------------------------------------------------------------------*/      /* ---------------- <<<< Configure Jquery CSS Theme >>>> ---------------------------------------------------------------*/  $Page->setTab($Tabs);  $Page->setTable($Companies);  /* ---------------- <<<< End Configure Jquery CSS Theme >>>> -----------------------------------------------------------*/      /* ---------------- <<<< Configure CSS Theme >>>> ----------------------------------------------------------------------*/  $Page->addCssLink(TO_ROOT . "/apps/subcore/style/tabs.css");  $Page->addCssLink(TO_ROOT . "/apps/subcore/style/tables.css");    /* ---------------- <<<< End Configure CSS Theme >>>> ------------------------------------------------------------------*/      /* ---------------- <<<< Configure JS Scripts >>>> ---------------------------------------------------------------------*/  $Page->addJsLink(TO_ROOT . "/apps/subcore/scripts/script.tabs.js");  /* ---------------- <<<< End Configure JS Scripts >>>> -----------------------------------------------------------------*/      $Page->display();